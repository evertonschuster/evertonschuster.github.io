{"version":3,"sources":["app2.js","serviceWorker.ts","index.tsx","lib/components/Notification.js"],"names":["window","React","App","props","state","ignore","title","console","log","this","setState","e","tag","playSound","filename","document","getElementById","play","now","Date","options","body","icon","lang","dir","sound","swRegistration","getNotifications","then","notifications","onClick","handleButtonClick","bind","handleButtonClick2","notSupported","handleNotSupported","onPermissionGranted","handlePermissionGranted","onPermissionDenied","handlePermissionDenied","onShow","handleNotificationOnShow","handleNotificationOnClick","onClose","handleNotificationOnClose","onError","handleNotificationOnError","timeout","id","preload","src","type","hidden","autostart","loop","Component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","Object","defineProperty","exports","value","obj","_react","require","__esModule","_propTypes","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","key","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","PERMISSION_GRANTED","seq","seqGen","Notification","_React$Component","_this","call","instance","Constructor","TypeError","_classCallCheck","supported","granted","permission","windowFocus","onWindowFocus","_onWindowFocus","onWindowBlur","_onWindowBlur","protoProps","staticProps","subClass","superClass","create","_inherits","_this2","requestPermission","result","disableActiveWindow","askAgain","_askPermission","removeEventListener","_this3","doNotShowOnActiveWindow","opt","showNotification","n","onshow","setTimeout","close","onclick","onclose","onerror","createElement","name","style","display","propTypes","bool","func","number","string","isRequired","object","defaultProps","_default"],"mappings":"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","file":"static/js/main.d0cd2dcc.chunk.js","sourcesContent":["'use strict';\n\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport Notification  from './lib/components/Notification';\n\n//allow react dev tools work\nwindow.React = React;\n\nexport class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ignore: true,\n      title: ''\n    };\n  }\n\n  handlePermissionGranted(){\n    console.log('Permission Granted');\n    this.setState({\n      ignore: false\n    });\n  }\n  handlePermissionDenied(){\n    console.log('Permission Denied');\n    this.setState({\n      ignore: true\n    });\n  }\n  handleNotSupported(){\n    console.log('Web Notification not Supported');\n    this.setState({\n      ignore: true\n    });\n  }\n\n  handleNotificationOnClick(e, tag){\n    console.log(e, 'Notification clicked tag:' + tag);\n  }\n\n  handleNotificationOnError(e, tag){\n    console.log(e, 'Notification error tag:' + tag);\n  }\n\n  handleNotificationOnClose(e, tag){\n    console.log(e, 'Notification closed tag:' + tag);\n  }\n\n  handleNotificationOnShow(e, tag){\n    this.playSound();\n    console.log(e, 'Notification shown tag:' + tag);\n  }\n\n  playSound(filename){\n    document.getElementById('sound').play();\n  }\n\n  handleButtonClick() {\n\n    if(this.state.ignore) {\n      return;\n    }\n\n    const now = Date.now();\n\n    const title = 'React-Web-Notification' + now;\n    const body = 'Hello' + new Date();\n    const tag = now;\n    const icon = 'http://mobilusoss.github.io/react-web-notification/example/Notifications_button_24.png';\n    // const icon = 'http://localhost:3000/Notifications_button_24.png';\n\n    // Available options\n    // See https://developer.mozilla.org/en-US/docs/Web/API/Notification/Notification\n    const options = {\n      tag: tag,\n      body: body,\n      icon: icon,\n      lang: 'en',\n      dir: 'ltr',\n      sound: './sound.mp3'  // no browsers supported https://developer.mozilla.org/en/docs/Web/API/notification/sound#Browser_compatibility\n    }\n    this.setState({\n      title: title,\n      options: options\n    });\n  }\n\n  handleButtonClick2() {\n    this.props.swRegistration.getNotifications({}).then(function(notifications) {\n      console.log(notifications);\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleButtonClick.bind(this)}>Notif!</button>\n        {document.title === 'swExample' && <button onClick={this.handleButtonClick2.bind(this)}>swRegistration.getNotifications</button>}\n        <Notification\n          ignore={this.state.ignore && this.state.title !== ''}\n          notSupported={this.handleNotSupported.bind(this)}\n          onPermissionGranted={this.handlePermissionGranted.bind(this)}\n          onPermissionDenied={this.handlePermissionDenied.bind(this)}\n          onShow={this.handleNotificationOnShow.bind(this)}\n          onClick={this.handleNotificationOnClick.bind(this)}\n          onClose={this.handleNotificationOnClose.bind(this)}\n          onError={this.handleNotificationOnError.bind(this)}\n          timeout={5000}\n          title={this.state.title}\n          options={this.state.options}\n          swRegistration={this.props.swRegistration}\n        />\n        <audio id='sound' preload='auto'>\n          <source src='./sound.mp3' type='audio/mpeg' />\n          <source src='./sound.ogg' type='audio/ogg' />\n          <embed hidden={true} autostart='false' loop={false} src='./sound.mp3' />\n        </audio>\n      </div>\n    )\n  }\n};\n\n\n\n// if (document.title === 'swExample') {\n//   navigator.serviceWorker.register('sw.js')\n//   .then(function(registration) {\n//     ReactDom.render(<App swRegistration={registration}/>, document.getElementById('out'));\n//   });\n// } else {\n//   ReactDom.render(<App/>, document.getElementById('out'));\n// }\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(\"sw.js\")\n    .then(registration => {\n      \n      console.log(\"OI\")\n\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './app2';\nimport * as serviceWorker from './serviceWorker';\n\nnavigator.serviceWorker.register('sw.js')\n.then(function(registration) {\n    ReactDOM.render(<App swRegistration={registration}/>, document.getElementById('root'));\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = require(\"prop-types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PERMISSION_GRANTED = 'granted';\nvar PERMISSION_DENIED = 'denied';\n\nvar seqGen = function seqGen() {\n  var i = 0;\n  return function () {\n    return i++;\n  };\n};\n\nvar seq = seqGen();\n\nvar Notification =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Notification, _React$Component);\n\n  function Notification(props) {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Notification).call(this, props));\n    var supported = false;\n    var granted = false;\n\n    if ('Notification' in window && window.Notification) {\n      supported = true;\n\n      if (window.Notification.permission === PERMISSION_GRANTED) {\n        granted = true;\n      }\n    }\n\n    _this.state = {\n      supported: supported,\n      granted: granted\n    }; // Do not save Notification instance in state\n\n    _this.notifications = {};\n    _this.windowFocus = true;\n    _this.onWindowFocus = _this._onWindowFocus.bind(_assertThisInitialized(_this));\n    _this.onWindowBlur = _this._onWindowBlur.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"_onWindowFocus\",\n    value: function _onWindowFocus() {\n      this.windowFocus = true;\n    }\n  }, {\n    key: \"_onWindowBlur\",\n    value: function _onWindowBlur() {\n      this.windowFocus = false;\n    }\n  }, {\n    key: \"_askPermission\",\n    value: function _askPermission() {\n      var _this2 = this;\n\n      window.Notification.requestPermission(function (permission) {\n        var result = permission === PERMISSION_GRANTED;\n\n        _this2.setState({\n          granted: result\n        }, function () {\n          if (result) {\n            _this2.props.onPermissionGranted();\n          } else {\n            _this2.props.onPermissionDenied();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.disableActiveWindow) {\n        window.addEventListener('focus', this.onWindowFocus);\n        window.addEventListener('blur', this.onWindowBlur);\n      }\n\n      if (!this.state.supported) {\n        this.props.notSupported();\n      } else if (this.state.granted) {\n        this.props.onPermissionGranted();\n      } else {\n        if (window.Notification.permission === PERMISSION_DENIED) {\n          if (this.props.askAgain) {\n            this._askPermission();\n          } else {\n            this.props.onPermissionDenied();\n          }\n        } else {\n          this._askPermission();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.disableActiveWindow) {\n        window.removeEventListener('focus', this.onWindowFocus);\n        window.removeEventListener('blur', this.onWindowBlur);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var doNotShowOnActiveWindow = this.props.disableActiveWindow && this.windowFocus;\n\n      if (!this.props.ignore && this.props.title && this.state.supported && this.state.granted && !doNotShowOnActiveWindow) {\n        var opt = this.props.options;\n\n        if (typeof opt.tag !== 'string') {\n          opt.tag = 'web-notification-' + seq();\n        }\n\n        if (!this.notifications[opt.tag]) {\n          if (this.props.swRegistration && this.props.swRegistration.showNotification) {\n            this.props.swRegistration.showNotification(this.props.title, opt);\n            this.notifications[opt.tag] = {};\n          } else {\n            var n = new window.Notification(this.props.title, opt);\n\n            n.onshow = function (e) {\n              _this3.props.onShow(e, opt.tag);\n\n              if (_this3.props.timeout > 0) {\n                setTimeout(function () {\n                  _this3.close(n);\n                }, _this3.props.timeout);\n              }\n            };\n\n            n.onclick = function (e) {\n              _this3.props.onClick(e, opt.tag);\n            };\n\n            n.onclose = function (e) {\n              _this3.props.onClose(e, opt.tag);\n            };\n\n            n.onerror = function (e) {\n              _this3.props.onError(e, opt.tag);\n            };\n\n            this.notifications[opt.tag] = n;\n          }\n        }\n      } // return null cause\n      // Error: Invariant Violation: Notification.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.\n\n\n      return _react[\"default\"].createElement(\"input\", {\n        type: \"hidden\",\n        name: \"dummy-for-react-web-notification\",\n        style: {\n          display: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close(n) {\n      if (n && typeof n.close === 'function') {\n        n.close();\n      }\n    } // for debug\n\n  }, {\n    key: \"_getNotificationInstance\",\n    value: function _getNotificationInstance(tag) {\n      return this.notifications[tag];\n    }\n  }]);\n\n  return Notification;\n}(_react[\"default\"].Component);\n\nNotification.propTypes = {\n  ignore: _propTypes.bool,\n  disableActiveWindow: _propTypes.bool,\n  askAgain: _propTypes.bool,\n  notSupported: _propTypes.func,\n  onPermissionGranted: _propTypes.func,\n  onPermissionDenied: _propTypes.func,\n  onShow: _propTypes.func,\n  onClick: _propTypes.func,\n  onClose: _propTypes.func,\n  onError: _propTypes.func,\n  timeout: _propTypes.number,\n  title: _propTypes.string.isRequired,\n  options: _propTypes.object,\n  swRegistration: _propTypes.object\n};\nNotification.defaultProps = {\n  ignore: false,\n  disableActiveWindow: false,\n  askAgain: false,\n  notSupported: function notSupported() {},\n  onPermissionGranted: function onPermissionGranted() {},\n  onPermissionDenied: function onPermissionDenied() {},\n  onShow: function onShow() {},\n  onClick: function onClick() {},\n  onClose: function onClose() {},\n  onError: function onError() {},\n  timeout: 5000,\n  options: {},\n  swRegistration: null\n};\nvar _default = Notification;\nexports[\"default\"] = _default;"],"sourceRoot":""}