(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,n,o){},18:function(t,n,o){"use strict";o.r(n);var e=o(0),i=o.n(e),s=o(1),r=o.n(s),a=(o(14),o(3)),c=o(4),u=o(7),l=o(5),d=o(8),f=o(6),p=o.n(f);window.React=i.a;var h=function(t){function n(t){var o;return Object(a.a)(this,n),(o=Object(u.a)(this,Object(l.a)(n).call(this,t))).state={ignore:!0,title:""},o}return Object(d.a)(n,t),Object(c.a)(n,[{key:"handlePermissionGranted",value:function(){console.log("Permission Granted"),this.setState({ignore:!1})}},{key:"handlePermissionDenied",value:function(){console.log("Permission Denied"),this.setState({ignore:!0})}},{key:"handleNotSupported",value:function(){console.log("Web Notification not Supported"),this.setState({ignore:!0})}},{key:"handleNotificationOnClick",value:function(t,n){console.log(t,"Notification clicked tag:"+n)}},{key:"handleNotificationOnError",value:function(t,n){console.log(t,"Notification error tag:"+n)}},{key:"handleNotificationOnClose",value:function(t,n){console.log(t,"Notification closed tag:"+n)}},{key:"handleNotificationOnShow",value:function(t,n){this.playSound(),console.log(t,"Notification shown tag:"+n)}},{key:"playSound",value:function(t){document.getElementById("sound").play()}},{key:"handleButtonClick",value:function(){if(!this.state.ignore){var t=Date.now(),n="React-Web-Notification"+t,o={tag:t,body:"Hello"+new Date,icon:"http://mobilusoss.github.io/react-web-notification/example/Notifications_button_24.png",lang:"en",dir:"ltr",sound:"./sound.mp3"};this.setState({title:n,options:o})}}},{key:"handleButtonClick2",value:function(){this.props.swRegistration.getNotifications({}).then((function(t){console.log(t)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{onClick:this.handleButtonClick.bind(this)},"Notif!"),"swExample"===document.title&&i.a.createElement("button",{onClick:this.handleButtonClick2.bind(this)},"swRegistration.getNotifications"),i.a.createElement(p.a,{ignore:this.state.ignore&&""!==this.state.title,notSupported:this.handleNotSupported.bind(this),onPermissionGranted:this.handlePermissionGranted.bind(this),onPermissionDenied:this.handlePermissionDenied.bind(this),onShow:this.handleNotificationOnShow.bind(this),onClick:this.handleNotificationOnClick.bind(this),onClose:this.handleNotificationOnClose.bind(this),onError:this.handleNotificationOnError.bind(this),timeout:5e3,title:this.state.title,options:this.state.options,swRegistration:this.props.swRegistration}),i.a.createElement("audio",{id:"sound",preload:"auto"},i.a.createElement("source",{src:"./sound.mp3",type:"audio/mpeg"}),i.a.createElement("source",{src:"./sound.ogg",type:"audio/ogg"}),i.a.createElement("embed",{hidden:!0,autostart:"false",loop:!1,src:"./sound.mp3"})))}}]),n}(i.a.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(t,n){navigator.serviceWorker.register("sw.js").then((function(t){console.log("OI"),t.onupdatefound=function(){var o=t.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(t)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}navigator.serviceWorker.register("sw.js").then((function(t){r.a.render(i.a.createElement(h,{swRegistration:t}),document.getElementById("root"))})),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");w?(!function(t,n){fetch(t).then((function(o){var e=o.headers.get("content-type");404===o.status||null!=e&&-1===e.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):g(t,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):g(n,t)}))}}()},6:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e,i=(e=o(0))&&e.__esModule?e:{default:e},s=o(15);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var d="granted",f=function(){var t=0;return function(){return t++}}(),p=function(t){function n(t){var o,e,i;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),e=this,o=!(i=c(n).call(this,t))||"object"!==r(i)&&"function"!==typeof i?u(e):i;var s=!1,a=!1;return"Notification"in window&&window.Notification&&(s=!0,window.Notification.permission===d&&(a=!0)),o.state={supported:s,granted:a},o.notifications={},o.windowFocus=!0,o.onWindowFocus=o._onWindowFocus.bind(u(o)),o.onWindowBlur=o._onWindowBlur.bind(u(o)),o}var o,e,s;return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&l(t,n)}(n,t),o=n,(e=[{key:"_onWindowFocus",value:function(){this.windowFocus=!0}},{key:"_onWindowBlur",value:function(){this.windowFocus=!1}},{key:"_askPermission",value:function(){var t=this;window.Notification.requestPermission((function(n){var o=n===d;t.setState({granted:o},(function(){o?t.props.onPermissionGranted():t.props.onPermissionDenied()}))}))}},{key:"componentDidMount",value:function(){this.props.disableActiveWindow&&(window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur)),this.state.supported?this.state.granted?this.props.onPermissionGranted():"denied"===window.Notification.permission?this.props.askAgain?this._askPermission():this.props.onPermissionDenied():this._askPermission():this.props.notSupported()}},{key:"componentWillUnmount",value:function(){this.props.disableActiveWindow&&(window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur))}},{key:"render",value:function(){var t=this,n=this.props.disableActiveWindow&&this.windowFocus;if(!this.props.ignore&&this.props.title&&this.state.supported&&this.state.granted&&!n){var o=this.props.options;if("string"!==typeof o.tag&&(o.tag="web-notification-"+f()),!this.notifications[o.tag])if(this.props.swRegistration&&this.props.swRegistration.showNotification)this.props.swRegistration.showNotification(this.props.title,o),this.notifications[o.tag]={};else{var e=new window.Notification(this.props.title,o);e.onshow=function(n){t.props.onShow(n,o.tag),t.props.timeout>0&&setTimeout((function(){t.close(e)}),t.props.timeout)},e.onclick=function(n){t.props.onClick(n,o.tag)},e.onclose=function(n){t.props.onClose(n,o.tag)},e.onerror=function(n){t.props.onError(n,o.tag)},this.notifications[o.tag]=e}}return i.default.createElement("input",{type:"hidden",name:"dummy-for-react-web-notification",style:{display:"none"}})}},{key:"close",value:function(t){t&&"function"===typeof t.close&&t.close()}},{key:"_getNotificationInstance",value:function(t){return this.notifications[t]}}])&&a(o.prototype,e),s&&a(o,s),n}(i.default.Component);p.propTypes={ignore:s.bool,disableActiveWindow:s.bool,askAgain:s.bool,notSupported:s.func,onPermissionGranted:s.func,onPermissionDenied:s.func,onShow:s.func,onClick:s.func,onClose:s.func,onError:s.func,timeout:s.number,title:s.string.isRequired,options:s.object,swRegistration:s.object},p.defaultProps={ignore:!1,disableActiveWindow:!1,askAgain:!1,notSupported:function(){},onPermissionGranted:function(){},onPermissionDenied:function(){},onShow:function(){},onClick:function(){},onClose:function(){},onError:function(){},timeout:5e3,options:{},swRegistration:null};var h=p;n.default=h},9:function(t,n,o){t.exports=o(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.d0cd2dcc.chunk.js.map