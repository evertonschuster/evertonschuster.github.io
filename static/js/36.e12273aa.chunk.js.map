{"version":3,"sources":["pages/Pessoas/Users/ListUser/ListUser.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","layouts/FormBasicLayout/FormBasicLayout.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/ModalForm/ModalFormContext.ts","hoc/UseListPagined.ts","components/ListForm/components/ListFormTable.tsx","components/ListForm/components/ListFormHeader.tsx","components/ListForm/ListForm.tsx"],"names":["ListUser","response","UseListPagined","getListPagined","UserApi","GetListPagined","bind","breadcrumbList","displayName","URL","undefined","tableProps","columns","title","dataIndex","key","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","memo","props","setBreadcrumb","useContext","BasicLayoutContext","useEffect","className","children","_defineProperty","obj","value","configurable","writable","ModalFormContext","React","createContext","state","setState","ModalFormContextProvider","Provider","Consumer","useState","isLoading","setIsLoading","pageSize","currentPage","filterRequest","setFilterRequest","current","total","dataSource","responseBack","setResponseBack","getDataBack","a","data","totalItem","result","valuesFilter","requestResult","reflesh","withRouter","formMode","setFormMode","sharedState","isSelectMode","FormMode","SelectMultiple","SelectOne","keyProp","ListSelectedItem","concat","showModal","setShowModal","record","setRecord","loading","setLoading","keyDescription","width","render","text","index","to","location","pathname","replace","onClick","Edit","placement","color","deleteFunction","Delete","showExluir","rowSelection","type","onChange","selectedRowKeys","selectedRows","map","e","hidenExluir","savedFormMode","visible","onOk","errorBack","List","onCancel","okText","cancelText","okType","okButtonProps","autoFocus","cancelButtonProps","pagination","page","onRow","newState","find","bordered","rowKey","size","useFixedHeader","filterValues","setFilterValues","span","placeholder","event","onPressEnter","style","textAlign","icon","New","setSharedState","paddingBottom"],"mappings":"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","file":"static/js/36.e12273aa.chunk.js","sourcesContent":["import React from 'react';\r\nimport FormBasicLayout from '../../../../layouts/FormBasicLayout/FormBasicLayout';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport ListForm from '../../../../components/ListForm/ListForm';\r\nimport { UseListPagined } from '../../../../hoc/UseListPagined';\r\nimport { UserApi } from '../../../../apis/Pessoas/UserApi';\r\n\r\nconst ListUser: React.FC<RouteComponentProps> = () => {\r\n\r\n    const response = UseListPagined({ getListPagined: UserApi.GetListPagined.bind(UserApi) });\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Código',\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n        },\r\n        {\r\n            title: 'Usuário',\r\n            dataIndex: 'userName',\r\n            key: 'userName',\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            key: 'email',\r\n        },\r\n        {\r\n            title: 'Telefone',\r\n            dataIndex: 'phoneNumber',\r\n            key: 'phoneNumber',\r\n        },\r\n\r\n    ];\r\n\r\n\r\n    return (\r\n        <FormBasicLayout breadcrumbList={[{ displayName: \"Usuários\", URL: \"/User\" }, { displayName: \"Listagem\", URL: undefined }]} >\r\n\r\n\r\n            <ListForm\r\n                tableProps={response}\r\n                columns={columns} />\r\n\r\n\r\n        </FormBasicLayout>\r\n    );\r\n\r\n}\r\n\r\nexport default ListUser;\r\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useContext, useEffect, memo, ReactNode } from 'react';\r\nimport { BreadcrumbProp } from '../BasicLayout/BasicLayout';\r\nimport BasicLayoutContext from '../BasicLayout/BasicLayoutContext';\r\nimport \"./form-basic-layout.style.css\";\r\n\r\nexport interface Props {\r\n    breadcrumbList?: BreadcrumbProp[],\r\n    children?: ReactNode\r\n}\r\n\r\nconst FormBasicLayout: React.FC<Props> = (props) => {\r\n\r\n    const { setBreadcrumb } = useContext(BasicLayoutContext);\r\n\r\n    useEffect(() => {\r\n\r\n        setBreadcrumb(props.breadcrumbList);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"form-application-container\">\r\n            {props.children}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default memo<Props>(FormBasicLayout);\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from 'react'\r\n\r\nexport interface ModalFormContextProp<T> {\r\n    state?: T | T[];\r\n    setState: (value?: T | T[]) => void;\r\n}\r\n\r\nconst ModalFormContext = React.createContext<ModalFormContextProp<any>>(\r\n    {\r\n        state: undefined,\r\n        setState: () => { },\r\n    }\r\n);\r\n\r\nexport const ModalFormContextProvider = ModalFormContext.Provider\r\nexport const ModalFormContextConsumer = ModalFormContext.Consumer\r\n\r\nexport default ModalFormContext\r\n\r\n// headerVisible\r\n// setHeaderVisible","import { useState, useEffect } from 'react';\r\nimport { TableProps } from '../components/ListForm/ListForm';\r\nimport { PaginationQuery, PaginationResult } from '../models/BaseEntity';\r\nimport { AxiosResponse } from 'axios';\r\n\r\n\r\nexport interface Props<TEntity> {\r\n    getListPagined: (filter: PaginationQuery) => Promise<AxiosResponse<PaginationResult<TEntity>>>,\r\n    valuesFilter?: any;\r\n}\r\n\r\nexport interface RequestResult {\r\n    requestResult: TableProps<any>,\r\n    isLoading: boolean;\r\n    filterRequest: PaginationQuery;\r\n    setFilterRequest: (values: PaginationQuery) => void\r\n    reflesh: () => void;\r\n\r\n}\r\n\r\nexport function UseListPagined(props: Props<any>): RequestResult {\r\n\r\n    const [isLoading, setIsLoading] = useState<boolean>(true);\r\n    const [filterRequest, setFilterRequest] = useState<PaginationQuery>({ pageSize: 10, currentPage: 1 })\r\n    const [responseBack, setResponseBack] = useState<TableProps<any>>(\r\n        {\r\n            current: 0,\r\n            pageSize: 0,\r\n            total: 0,\r\n            dataSource: []\r\n        }\r\n    );\r\n\r\n    async function getDataBack() {\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            let response = await props.getListPagined(filterRequest);\r\n            setResponseBack({\r\n                current: response.data.currentPage,\r\n                pageSize: response.data.pageSize,\r\n                total: response.data.totalItem,\r\n                dataSource: response.data.result\r\n            });\r\n        }\r\n        finally {\r\n\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getDataBack();\r\n        // console.error(\"Fui pro back\")\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [filterRequest, props.valuesFilter])\r\n\r\n\r\n    let result = {\r\n        requestResult: responseBack,\r\n        isLoading,\r\n        filterRequest,\r\n        setFilterRequest,\r\n        reflesh: getDataBack\r\n    };\r\n    return result;\r\n}","import React, { useContext, memo, useState } from 'react';\r\nimport { Table, Tooltip, Tag, Modal } from 'antd';\r\nimport { ListItem } from '../ListForm';\r\nimport { ColumnProps, TableRowSelection } from 'antd/lib/table';\r\nimport BasicLayoutContext, { FormMode } from '../../../layouts/BasicLayout/BasicLayoutContext';\r\nimport ModalFormContext from '../../ModalForm/ModalFormContext';\r\nimport { Link, RouteComponentProps, withRouter } from 'react-router-dom';\r\nimport { errorBack } from '../../../utils/MessageApi';\r\n\r\nexport interface Props<T> {\r\n    keyProp?: string;\r\n    columns: ColumnProps<T>[];\r\n    tableProps: ListItem<T>;\r\n    deleteFunction?: (id: number) => void;\r\n    keyDescription?: string;\r\n}\r\n\r\nconst ListFormTable: React.FC<Props<any> & RouteComponentProps> = (props) => {\r\n\r\n    const { formMode, setFormMode, sharedState } = useContext(BasicLayoutContext);\r\n    const { setState, state } = useContext(ModalFormContext);\r\n    const isSelectMode = formMode === FormMode.SelectMultiple || formMode === FormMode.SelectOne;\r\n    const key = props.keyProp || \"id\";\r\n    const ListSelectedItem: any[] = state ? [].concat(state) : [];\r\n    const [showModal, setShowModal] = useState(false)\r\n    const [record, setRecord] = useState<any>()\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const keyDescription = props.keyDescription || \"nome\";\r\n\r\n    const columns = props.columns.concat({\r\n        title: 'Ações',\r\n        key: 'action',\r\n        width: \"150px\",\r\n        render: (text: any, record: any, index: number) => (\r\n            <>\r\n                <Link to={(props.location.pathname + \"/edit/\" + record[key]).replace(\"//\", \"/\")} onClick={() => { setFormMode(FormMode.Edit); setState(undefined) }}>\r\n                    <Tooltip placement=\"top\" title=\"Editar Registro Selecionado.\"  >\r\n                        <Tag color=\"green\" key={index + \"12\"} className=\"custom-cursor-pointer\" >Editar</Tag>\r\n                    </Tooltip>\r\n                </Link>\r\n\r\n                {props.deleteFunction ?\r\n                    <Tooltip placement=\"top\" title=\"Excluir Registro Selecionado.\" >\r\n                        <Tag color=\"red\" key={index + \"23\"} className=\"custom-cursor-pointer\" onClick={() => { setFormMode(FormMode.Delete); showExluir(record) }} >Excluir</Tag>\r\n                    </Tooltip>\r\n                    : null}\r\n\r\n            </>\r\n        ),\r\n    })\r\n\r\n    const rowSelection: TableRowSelection<any> = {\r\n        // selections: false,\r\n        type: formMode === FormMode.SelectMultiple ? \"checkbox\" : \"radio\",\r\n        onChange: onChangeRowSelection,\r\n        selectedRowKeys: ListSelectedItem.map(e => e[key])\r\n    }\r\n\r\n    function onChangePagination(page: number) {\r\n        props.tableProps.setFilterRequest({ ...props.tableProps.filterRequest, currentPage: page })\r\n    }\r\n\r\n    function onChangeRowSelection<T>(selectedRowKeys: string[] | number[], selectedRows: T[]) {\r\n        setState(selectedRows);\r\n    }\r\n\r\n    function showExluir(record: any) {\r\n        setShowModal(true);\r\n        setRecord(record);\r\n    }\r\n\r\n    function hidenExluir() {\r\n        setShowModal(false);\r\n        setState(undefined)\r\n\r\n        if (sharedState && sharedState.savedFormMode) {\r\n            setFormMode(sharedState.savedFormMode);\r\n        }\r\n    }\r\n\r\n\r\n    function onClick(record: any) {\r\n        if (!isSelectMode) return;\r\n\r\n        if (FormMode.SelectOne === formMode) {\r\n            setState([record]);\r\n            return;\r\n        }\r\n\r\n\r\n        let newState = ListSelectedItem;\r\n\r\n        if (ListSelectedItem.find(e => e[key] === record[key]) === undefined) {\r\n            newState = ListSelectedItem.concat(record);\r\n        }\r\n        else {\r\n            newState = ListSelectedItem.filter(e => e[key] !== record[key]);\r\n        }\r\n\r\n        setState(newState);\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n            <Modal\r\n                title=\"Atenção!!\"\r\n                visible={showModal}\r\n                onOk={async () => {\r\n                    setLoading(true);\r\n                    try {\r\n\r\n                        props.deleteFunction && await props.deleteFunction((record || {})[key])\r\n                        setLoading(false);\r\n                        props.tableProps.reflesh();\r\n                    }\r\n                    catch (e) {\r\n                        errorBack(null, e);\r\n                    }\r\n                    finally {\r\n                        setFormMode(FormMode.List)\r\n                        hidenExluir();\r\n                    }\r\n                }}\r\n                onCancel={hidenExluir}\r\n                okText=\"Excluir\"\r\n                cancelText=\"Cancelar\"\r\n                okType=\"danger\"\r\n                okButtonProps={{\r\n                    loading: loading,\r\n                    autoFocus: true,\r\n                }}\r\n                cancelButtonProps={{\r\n                    loading: loading\r\n                }}\r\n            >\r\n                <span>\r\n                    Você está prestes a excluir '{(record || {})[keyDescription]}'.\r\n                <br />\r\n                    Está certo disso?\r\n                </span>\r\n            </Modal>\r\n\r\n            <Table\r\n                pagination={{\r\n                    current: props.tableProps.requestResult.current,\r\n                    pageSize: props.tableProps.requestResult.pageSize,\r\n                    total: props.tableProps.requestResult.total,\r\n                    onChange: onChangePagination\r\n                }}\r\n                loading={props.tableProps.isLoading}\r\n                rowSelection={isSelectMode ? rowSelection : undefined}\r\n                onRow={(record: any) => { return { onClick: () => { onClick(record) } } }}\r\n                columns={columns}\r\n                dataSource={props.tableProps.requestResult.dataSource}\r\n                bordered={true}\r\n                rowKey={(record: any) => record[key]}\r\n                // scroll={{ y: 3000 }}\r\n                size=\"small\"\r\n                useFixedHeader={true}>\r\n\r\n            </Table>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default withRouter(memo(ListFormTable));\r\n","import React, { memo, useState, useContext } from 'react';\r\nimport { Input, Col, Button } from 'antd';\r\nimport { withRouter, Link, RouteComponentProps } from 'react-router-dom';\r\nimport { ListItem } from '../ListForm';\r\nimport BasicLayoutContext, { FormMode } from '../../../layouts/BasicLayout/BasicLayoutContext';\r\n\r\n\r\nexport interface Props<T> {\r\n    tableProps: ListItem<T>;\r\n}\r\n\r\nconst ListFormHeader: React.FC<Props<any> & RouteComponentProps> = (props) => {\r\n\r\n    //#region Constantes\r\n\r\n    const [filterValues, setFilterValues] = useState<string>()\r\n    const { setFormMode } = useContext(BasicLayoutContext);\r\n    //#endregion\r\n\r\n\r\n    return (\r\n        <>\r\n            <Col span={10}>\r\n                <Input placeholder=\"Filtrar\" value={filterValues}\r\n                    onChange={(event) => { setFilterValues(event.target.value) }}\r\n                    onPressEnter={() => {\r\n                        props.tableProps.setFilterRequest({ ...props.tableProps.filterRequest, currentPage: 1, filter: filterValues })\r\n                    }} />\r\n            </Col>\r\n            <Col span={1} style={{ textAlign: \"center\" }}>\r\n                <Button type=\"primary\" icon=\"search\"\r\n                    onClick={() => {\r\n                        props.tableProps.setFilterRequest({ ...props.tableProps.filterRequest, currentPage: 1, filter: filterValues })\r\n                    }} />\r\n            </Col>\r\n\r\n            <Col span={2} push={11} style={{ textAlign: \"right\" }}>\r\n                <Button type=\"primary\">\r\n                    <Link to={(props.location.pathname + \"/new\").replace(\"//\", \"/\")} onClick={() => setFormMode(FormMode.New)}>\r\n                        Adicionar\r\n                        </Link>\r\n                </Button>\r\n            </Col>\r\n\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default withRouter(memo(ListFormHeader));\r\n","import React, { memo, useContext, useEffect } from 'react';\r\nimport { Row, Col } from 'antd';\r\nimport { ColumnProps } from 'antd/lib/table';\r\nimport { PaginationQuery } from '../../models/BaseEntity';\r\nimport ListFormTable from './components/ListFormTable';\r\nimport ListFormHeader from './components/ListFormHeader';\r\nimport BasicLayoutContext, { FormMode } from '../../layouts/BasicLayout/BasicLayoutContext';\r\n\r\nexport interface TableProps<T> {\r\n    dataSource: T[];\r\n    current: number;\r\n    pageSize: number;\r\n    total: number;\r\n}\r\n\r\nexport interface ListItem<T> {\r\n    requestResult: TableProps<T>;\r\n    isLoading: boolean;\r\n    filterRequest: PaginationQuery;\r\n    setFilterRequest: (values: PaginationQuery) => void\r\n    reflesh: () => void;\r\n}\r\n\r\nexport interface Props<T> {\r\n    tableProps: ListItem<T>;\r\n    columns: ColumnProps<T>[];\r\n    keyProp?: string;\r\n    deleteFunction?: (id: number) => void\r\n}\r\n\r\nconst ListForm: React.FC<Props<any>> = (props) => {\r\n\r\n    const { formMode, setFormMode, sharedState, setSharedState } = useContext(BasicLayoutContext);\r\n\r\n    useEffect(() => {\r\n\r\n        if (formMode === FormMode.SelectMultiple || formMode === FormMode.SelectOne) {\r\n            setSharedState({ ...sharedState, savedFormMode: formMode })\r\n            return;\r\n        }\r\n\r\n        if (sharedState?.savedFormMode) {\r\n            setFormMode(sharedState.savedFormMode);\r\n            return;\r\n        }\r\n\r\n        setFormMode(FormMode.List);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Row style={{ paddingBottom: \"20px\" }}>\r\n                <ListFormHeader tableProps={props.tableProps} />\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col>\r\n                    <ListFormTable\r\n                        deleteFunction={props.deleteFunction}\r\n                        keyProp={props.keyProp}\r\n                        columns={props.columns}\r\n                        tableProps={props.tableProps}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default memo(ListForm);\r\n"],"sourceRoot":""}